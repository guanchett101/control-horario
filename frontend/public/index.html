<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes" />
    <meta name="theme-color" content="#1e3c72" />
    <meta name="description" content="Sistema de Control de Horarios - Gestión de asistencia de empleados" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="google" content="notranslate" />
    <meta http-equiv="Content-Language" content="es" />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <title>Control de Horarios</title>
    <style>
      /* Prevenir zoom en inputs en iOS */
      @supports (-webkit-touch-callout: none) {
        input, select, textarea {
          font-size: 16px !important;
        }
      }
      /* Prevenir traducción automática */
      body {
        translate: no;
      }
    </style>
    <script>
      // Detectar si Chrome está traduciendo y prevenir pérdida de sesión
      (function() {
        // Guardar sesión antes de cualquier recarga
        window.addEventListener('beforeunload', function() {
          var token = localStorage.getItem('token');
          var user = localStorage.getItem('user');
          if (token && user) {
            sessionStorage.setItem('token', token);
            sessionStorage.setItem('user', user);
            sessionStorage.setItem('backup', 'true');
          }
        });
        
        // Restaurar sesión después de recarga
        window.addEventListener('load', function() {
          if (sessionStorage.getItem('backup') === 'true') {
            var token = sessionStorage.getItem('token');
            var user = sessionStorage.getItem('user');
            if (token && user && !localStorage.getItem('token')) {
              localStorage.setItem('token', token);
              localStorage.setItem('user', user);
            }
            sessionStorage.removeItem('backup');
          }
        });
      })();
    </script>
  </head>
  <body translate="no" class="notranslate">
    <noscript>Necesitas habilitar JavaScript para usar esta aplicación.</noscript>
    <div id="root"></div>
  </body>
</html>
